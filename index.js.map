{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport default function imageAPIRequest(imageName) {\n  return axios.get('https://pixabay.com/api/', {\n    params: {\n      q: imageName,\n      ...searchParams,\n    },\n  });\n}\n\nconst searchParams = {\n  key: '',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: 'true',\n};\n","import SimpleLightbox from 'simplelightbox';\n\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport default function updateImageMarkup(images) {\n  const imagesMarkup = images.map(image => {\n    return `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${\n          image.largeImageURL\n        }\"><img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${\n      image.tags\n    }\" width=\"${300}\" height=\"${200}\" data-user=\"${image.user}\"></a>\n        <ul class=\"gallery-image-description-list\">\n            <li class=\"gallery-image-description-item\">\n                <h3 class=\"gallery-image-description-title\">Likes</h3>\n                <p class=\"gallery-image-description-text\">${image.likes}</p>\n            </li>\n            <li class=\"gallery-image-description-item\">\n                <h3 class=\"gallery-image-description-title\">Views</h3>\n                <p class=\"gallery-image-description-text\">${image.views}</p>\n            </li>\n            <li class=\"gallery-image-description-item\">\n                <h3 class=\"gallery-image-description-title\">Comments</h3>\n                <p class=\"gallery-image-description-text\">${image.comments}</p>\n            </li>\n            <li class=\"gallery-image-description-item\">\n                <h3 class=\"gallery-image-description-title\">Downloads</h3>\n                <p class=\"gallery-image-description-text\">${image.downloads}</p>\n            </li>\n        </ul>\n      </li>`;\n  });\n  refs.gallery.innerHTML = imagesMarkup.join('');\n  modalGallery.refresh();\n}\n\nconst modalGallery = new SimpleLightbox('.gallery-link', {\n  captionsData: 'data-user',\n  captionDelay: 250,\n});\n\nconst refs = {\n  gallery: document.querySelector('.gallery'),\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport imageAPIRequest from './js/pixabay-api';\nimport imageRender from './js/render-functions';\n\nconst messageOptions = {\n  class: 'message',\n  titleColor: '#fff',\n  titleSize: '16',\n  titleLineHeight: '1.5',\n  messageColor: '#fff',\n  messageSize: '16',\n  maxWidth: 432,\n  theme: 'dark',\n  close: false,\n  position: 'topRight',\n  timeout: 5000,\n};\nconst errorMessageOptions = {\n  ...messageOptions,\n  backgroundColor: '#ef4040',\n  image: './img/error-message-icon.svg',\n  imageWidth: 24,\n  close: true,\n};\n\nconst refs = {\n  searchForm: document.querySelector('.form'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n\nrefs.searchForm.addEventListener('submit', searchFormSubmit);\n\nfunction searchFormSubmit(event) {\n  event.preventDefault();\n  const searchText = event.currentTarget.elements.searchText.value.trim();\n  if (!textValidation(searchText)) {\n    return;\n  }\n  refs.gallery.innerHTML = '';\n  refs.loader.style.display = 'block';\n\n  imageAPIRequest(searchText)\n    .then(imageData => {\n      if (imageData.data.hits.length === 0) {\n        createErrorMessage(\n          '',\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n        refs.loader.style.display = 'none';\n        return;\n      }\n      refs.loader.style.display = 'none';\n      imageRender(imageData.data.hits);\n    })\n    .catch(error => {\n      refs.loader.style.display = 'none';\n      createErrorMessage(\n        error.name,\n        `Sorry, the following error occured: ${error.message}`\n      );\n    });\n}\n\nfunction textValidation(text) {\n  return text !== '' ? true : false;\n}\n\nfunction createErrorMessage(title, message) {\n  iziToast.show({\n    ...errorMessageOptions,\n    title,\n    message,\n  });\n}\n"],"names":["imageAPIRequest","imageName","axios","searchParams","updateImageMarkup","images","imagesMarkup","image","refs","modalGallery","SimpleLightbox","messageOptions","errorMessageOptions","searchFormSubmit","event","searchText","textValidation","imageData","createErrorMessage","imageRender","error","text","title","message","iziToast"],"mappings":"owBAEe,SAASA,EAAgBC,EAAW,CACjD,OAAOC,EAAM,IAAI,2BAA4B,CAC3C,OAAQ,CACN,EAAGD,EACH,GAAGE,CACJ,CACL,CAAG,CACH,CAEA,MAAMA,EAAe,CACnB,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,MACd,ECZe,SAASC,EAAkBC,EAAQ,CAChD,MAAMC,EAAeD,EAAO,IAAIE,GACvB;AAAA,wCAEDA,EAAM,aAChB,qCAA6CA,EAAM,YAAY,UACzDA,EAAM,IACZ,yCAAmDA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,4DAIDA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,4DAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,4DAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,4DAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,YAIxE,EACDC,EAAK,QAAQ,UAAYF,EAAa,KAAK,EAAE,EAC7CG,EAAa,QAAO,CACtB,CAEA,MAAMA,EAAe,IAAIC,EAAe,gBAAiB,CACvD,aAAc,YACd,aAAc,GAChB,CAAC,EAEKF,EAAO,CACX,QAAS,SAAS,cAAc,UAAU,CAC5C,ECrCMG,EAAiB,CACrB,MAAO,UACP,WAAY,OACZ,UAAW,KACX,gBAAiB,MACjB,aAAc,OACd,YAAa,KACb,SAAU,IACV,MAAO,OACP,MAAO,GACP,SAAU,WACV,QAAS,GACX,EACMC,EAAsB,CAC1B,GAAGD,EACH,gBAAiB,UACjB,MAAO,+BACP,WAAY,GACZ,MAAO,EACT,EAEMH,EAAO,CACX,WAAY,SAAS,cAAc,OAAO,EAC1C,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAA,EAAK,WAAW,iBAAiB,SAAUK,CAAgB,EAE3D,SAASA,EAAiBC,EAAO,CAC/BA,EAAM,eAAc,EACpB,MAAMC,EAAaD,EAAM,cAAc,SAAS,WAAW,MAAM,OAC5DE,EAAeD,CAAU,IAG9BP,EAAK,QAAQ,UAAY,GACzBA,EAAK,OAAO,MAAM,QAAU,QAE5BR,EAAgBe,CAAU,EACvB,KAAKE,GAAa,CACjB,GAAIA,EAAU,KAAK,KAAK,SAAW,EAAG,CACpCC,EACE,GACA,0EACV,EACQV,EAAK,OAAO,MAAM,QAAU,OAC5B,MACD,CACDA,EAAK,OAAO,MAAM,QAAU,OAC5BW,EAAYF,EAAU,KAAK,IAAI,CACrC,CAAK,EACA,MAAMG,GAAS,CACdZ,EAAK,OAAO,MAAM,QAAU,OAC5BU,EACEE,EAAM,KACN,uCAAuCA,EAAM,OAAO,EAC5D,CACA,CAAK,EACL,CAEA,SAASJ,EAAeK,EAAM,CAC5B,OAAOA,IAAS,EAClB,CAEA,SAASH,EAAmBI,EAAOC,EAAS,CAC1CC,EAAS,KAAK,CACZ,GAAGZ,EACH,MAAAU,EACA,QAAAC,CACJ,CAAG,CACH"}